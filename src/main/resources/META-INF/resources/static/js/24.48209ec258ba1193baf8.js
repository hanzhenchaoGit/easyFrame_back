webpackJsonp([24],{"/P3D":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("vLgD"),a=t("zL8q"),l={data:function(){return{logs:[],logging:!1,value:"",currentLog:""}},mounted:function(){var n=this;Object(o.a)({url:"/system/loglists",method:"get"}).then(function(e){n.logs=e.data})},methods:{getFile:function(n){var e=this;-1===n.indexOf(".gz")?(this.logging=!0,Object(o.a)({url:"/system/getFile",method:"get",params:{name:n}}).then(function(n){e.currentLog=n.data,e.logging=!1}).catch(function(){})):Object(a.Message)({message:"当前日志已归档压缩，请下载后查看",type:"error",duration:5e3})},downloadLog:function(){window.open(this.baseUrl+"/system/downloadLog?filename="+this.value)}}},i={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("el-select",{attrs:{placeholder:"请选择日志文件"},on:{change:n.getFile},model:{value:n.value,callback:function(e){n.value=e},expression:"value"}},n._l(n.logs,function(n){return t("el-option",{key:n,attrs:{label:n,value:n}})})),n._v(" "),t("common-button",{attrs:{type:"primary"},on:{click:function(e){n.downloadLog()}}},[n._v("下载日志")]),n._v(" "),t("el-card",{directives:[{name:"loading",rawName:"v-loading",value:n.logging,expression:"logging"}],staticClass:"box-card",staticStyle:{"min-height":"500px"},attrs:{"element-loading-text":"正在拼命获取日志"}},[n.currentLog?t("div",{staticStyle:{height:"750px",overflow:"auto",color:"white","font-size":"10px","font-family":"微软雅黑",background:"black"},domProps:{innerHTML:n._s(n.currentLog)}}):n._e()])],1)},staticRenderFns:[]};var r=t("VU/8")(l,i,!1,function(n){t("oPg9")},"data-v-5a4bf004",null);e.default=r.exports},oPg9:function(n,e,t){var o=t("zPSW");"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);t("rjj0")("2005eaaa",o,!0)},zPSW:function(n,e,t){(n.exports=t("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])}});